!function(){"use strict";var e,t,n,r={5968:function(e,t,n){var r=n(7378),a=n(7634),o=n(7609),c=n(1279);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=(0,o.createSlice)({initialState:{catsData:[],favoriteCats:JSON.parse(localStorage.getItem("favoriteCats"))||[],firstRender:!1},name:"data",reducers:{setCatsData:function(e,t){e.catsData=[].concat(f(e.catsData),f(t.payload))},setFavoriteCats:function(e,t){e.catsData=e.catsData.map((function(e){return e.id===t.payload.id?u(u({},e),{},{like:!0}):e})),e.favoriteCats=[].concat(f(e.favoriteCats),[u(u({},t.payload),{},{like:!0})])},deleteFavoriteCat:function(e,t){e.catsData=e.catsData.map((function(e){return e.id===t.payload.id?u(u({},e),{},{like:!1}):e})),e.favoriteCats=e.favoriteCats.filter((function(e){return e.id!==t.payload.id}))},setFirstRender:function(e){e.firstRender=!0}}}),p=m.actions,d=p.setCatsData,v=p.setFavoriteCats,y=p.deleteFavoriteCat,b=p.setFirstRender,O=m.reducer,g=(0,o.configureStore)({reducer:{data:O}});(0,c.setupListeners)(g.dispatch);var h=n(5783),j=n(4935),E=function(){var e=(0,j.s0)();return(0,r.useEffect)((function(){e("all")}),[]),r.createElement(r.Fragment,null,r.createElement("header",{className:"header"},r.createElement("div",{className:"container"},r.createElement(h.OL,{className:"header__link",to:"all"},"Все котики"),r.createElement(h.OL,{className:"header__link",to:"favorite"},"Любимые котики"))),r.createElement("main",{className:"content"},r.createElement(j.j3,null)))},_=n(8780),w=n(2393),S=n(4172),k=function(e){var t=e.obj,n=e.changeHandler;return r.createElement("div",{className:"content__img",key:t.url},r.createElement("div",{className:"content__img-container"},r.createElement("img",{src:t.url,alt:t.id}),r.createElement("div",{className:"content__img-gradient"},r.createElement("label",{className:"content__label"},r.createElement("input",{className:"content__check",type:"checkbox",defaultChecked:t.like,onChange:function(e){n(e,t)}}),r.createElement(S.b8C,{className:"content__like-icon",size:40})))))};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(){var e=(0,_.I0)(),t=(0,_.v9)((function(e){return e.data})),n=t.catsData,a=t.favoriteCats,o=t.firstRender,c=N((0,r.useState)(!1),2),i=c[0],u=c[1],l=N((0,r.useState)(0),2),f=l[0],s=l[1],m=N((0,r.useState)(""),2),p=m[0],O=m[1],g=N((0,r.useState)(""),2),h=g[0],j=g[1],E=(0,w.YD)({rootMargin:"200px 0px 0px"}),S=E.ref,P=E.inView;function D(){u(!0),fetch("https://api.thecatapi.com/v1/images/search?limit=".concat(20,"&page=").concat(f,"page&api_key=").concat("live_wgTVl4q73CIJTgweqoNx741qVwh7OXb3haDqoKRm8y1Bw2oi3YREmLHTxZaCVj9X")).then((function(e){return e.json()})).then((function(t){e(d(function(e,t){var n=[];return t.length?t.forEach((function(t){n=e.map((function(e){return e.id===t.id?C(C({},e),{},{like:!0}):e.id!==t.id?C(C({},e),{},{like:!1}):void 0}))})):n=e.map((function(e){return C(C({},e),{},{like:!1})})),n}(t,a))),s(f+1),u(!1),e(b()),O("ещё ")})).catch((function(e){j("Сервер не отвечает"),setTimeout((function(){j("")}),1500),u(!1)}))}(0,r.useEffect)((function(){n.length||D()}),[]),(0,r.useEffect)((function(){P&&o&&D()}),[P]),(0,r.useEffect)((function(){localStorage.setItem("favoriteCats",JSON.stringify(a))}),[a]);var A=function(t,n){t.target.checked&&(a.find((function(e){return e.id===n.id}))||e(v(n))),t.target.checked||e(y(n))};return r.createElement(r.Fragment,null,r.createElement("div",{className:"container content__container"},n.map((function(e){return r.createElement(k,{obj:e,key:e.id,changeHandler:A})})),r.createElement("div",{ref:S})),i&&r.createElement("div",{className:"content__onload container"},"... загружаем ",p,"котиков ..."),h&&r.createElement("div",{className:"content__error"},h))},I=function(){var e=(0,_.v9)((function(e){return e.data.favoriteCats})),t=(0,_.I0)(),n=function(e,n){t(y(n))};return r.createElement("div",{className:"container content__container"},e&&e.map((function(e){return r.createElement(k,{obj:e,changeHandler:n})})))},F=function(){return r.createElement(h.VK,null,r.createElement(j.Z5,null,r.createElement(j.AW,{path:"/",element:r.createElement(E,null)},r.createElement(j.AW,{path:"all",element:r.createElement(x,null)}),r.createElement(j.AW,{path:"favorite",element:r.createElement(I,null)}))))},T=document.getElementById("app");(0,a.s)(T).render(r.createElement(_.zt,{store:g},r.createElement(F,null)))}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e].call(n.exports,n,n.exports,o),n.exports}o.m=r,e=[],o.O=function(t,n,r,a){if(!n){var c=1/0;for(f=0;f<e.length;f++){n=e[f][0],r=e[f][1],a=e[f][2];for(var i=!0,u=0;u<n.length;u++)(!1&a||c>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[u])}))?n.splice(u--,1):(i=!1,a<c&&(c=a));if(i){e.splice(f--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var f=e.length;f>0&&e[f-1][2]>a;f--)e[f]=e[f-1];e[f]=[n,r,a]},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);o.r(a);var c={};t=t||[null,n({}),n([]),n(n)];for(var i=2&r&&e;"object"==typeof i&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((function(t){c[t]=function(){return e[t]}}));return c.default=function(){return e},o.d(a,c),a},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={179:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,c=n[0],i=n[1],u=n[2],l=0;if(c.some((function(t){return 0!==e[t]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(u)var f=u(o)}for(t&&t(n);l<c.length;l++)a=c[l],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(f)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),o.O(void 0,[272],(function(){return o(1202)})),o.O(void 0,[272],(function(){return o(4845)}));var c=o.O(void 0,[272],(function(){return o(5968)}));c=o.O(c)}();